<!-- User can make appointment before arrive to the station -->

<ion-view title="Make Appointment" id="page32" hide-back-button="false">
    <ion-content padding="true" class="has-header">
    
	<div ng-controller="makeAppointmentCtrl">
		
		<div class="list">
			<form name="makeAppointment" novalidate><!-- Start Form -->
		<div>
		
			<label class="item item-input item-stacked-label">
				<span class="input-label">Customer Name</span>
				<input type="text" name="cname"  ng-disabled="true" ng-model="cname" ng-pattern="/[A-Za-z]$/"required >
				<span style="color:red" ng-show="makeAppointment.$submitted && makeAppointment.cname.$error.required">*This field is required!</span> 
				<span style="color:red" ng-show="makeAppointment.cname.$error.pattern">*Characters Only!</span> <!-- catch the error --> 
			</label>
			
				<label class="item item-input item-select">
			<span class="input-label">Station</span>
				<select ng-model="selectedStation" ng-change="changedValue(selectedStation)" data-ng-options="name as name.name for name in names" >
			<option>select</option>
			</select>
		</label>
  
			<label class="item item-input item-stacked-label">  
				<span class="input-label">Contact Number</span>
				<input type="tel" name="tele" ng-model="tele" required>
				<span style="color:red" ng-show="makeAppointment.tele.$error.pattern">Not a valid phone number!</span>
				<!--span style="color:red" ng-show="makeAppointment.$submitted && makeAppointment.tele.$error.required">*This field is required!</span-->
			
			</label>
  
			<label class="item item-input item-stacked-label">  
				<span class="input-label">Vehicle Reg Number</span>
				<input type="text" name="vRegNum" ng-model="vRegNum"  ng-maxlength="8" required>
			<!-- catch the error -->
				<span style="color:red" ng-show="makeAppointment.$submitted && makeAppointment.vRegNum.$error.required">*This field is required!</span>
				<!-- <span style="color:red" ng-show="makeAppointment.vRegNum.$error.minlength">length is 10</span> -->
				<span style="color:red" ng-show="makeAppointment.vRegNum.$error.maxlength">length is 8</span>
			</label>
  
 
		<label class="item item-input">
		<span class="input-label">Date</span>
		<input type="datetime-local" id="datepicker" name="date" ng_model="appdate" >
		</label>
	
		</div>
	
			<button class="button button-full button-positive"   ng-click="makeAppointment.$valid && makeAppointmentForm(cname,tele,vRegNum)">
			Make Appointment
			</button>
			<button id="reset" class="button button-full button-assertive" ng-click="makeAppointmentForm2()">
			Clear
			</button>
			<button class="button button-full button-balanced" ui-sref="app.appHistory" id="appointmentHistory-button">
			View History
			</button>
			
			</form><!-- End form -->
	
	</ion-content>
</ion-view>